# 🚀 量价突破策略快速开始指南

## 📦 项目文件概览

```
ccxt_demo/
├── strategy_config.json          # ⚙️ 策略配置文件
├── volume_price_breakout_strategy.py  # 🎯 核心策略实现
├── strategy_runner.py            # 🏃 策略执行器
├── strategy_demo.py              # 🎪 策略演示程序（推荐先运行）
├── test_strategy.py              # 🧪 策略测试脚本
├── main.py                       # 📊 币安现货期货基础演示
├── STRATEGY_README.md            # 📚 详细文档
└── QUICK_START.md                # 📖 本快速指南
```

## 🎯 核心策略逻辑

### 入场条件 📈
- **成交量突破**: 当前1分钟成交量 ≥ R分钟平均成交量的N倍
- **价格突破**: 当前1分钟涨幅 ≥ M%
- **资金使用**: 使用Q%的资金买入

### 加仓条件 ⬆️
- **顺势加仓**: 持仓后价格相比入场价上涨 ≥ U%
- **资金使用**: 每次加仓使用Q%的资金

### 出场条件 ⬇️
- **移动止盈**: 价格相比持仓期间最高价回撤 ≥ S%
- **追踪止损**: 止损价格随最高价上移

## 🛠️ 快速开始

### 1️⃣ 运行演示程序（强烈推荐首次使用）
```bash
uv run strategy_demo.py
```

这个程序会：
- 🔧 生成模拟K线数据
- 📊 实时显示策略执行过程
- 🚨 演示入场、加仓、出场信号
- 📈 展示持仓盈亏状态

### 2️⃣ 测试策略配置
```bash
uv run test_strategy.py
```

### 3️⃣ 验证配置参数
```bash
uv run strategy_runner.py --validate
```

### 4️⃣ 运行基础币安演示
```bash
uv run main.py
```

## 📋 策略参数详解

| 参数 | 说明 | 默认值 | 含义 |
|------|------|--------|------|
| **R** | 平均成交量周期 | 30 | 计算过去30分钟的平均成交量 |
| **N** | 成交量倍数 | 2.0 | 当前成交量需要是平均值的2倍 |
| **M** | 价格涨幅阈值 | 1.5% | 1分钟内价格上涨超过1.5% |
| **Q** | 资金使用比例 | 10% | 每次交易使用10%的资金 |
| **U** | 加仓涨幅 | 2.0% | 价格上涨2%时触发加仓 |
| **S** | 止损回撤 | 3.0% | 从最高点回落3%时止损 |

## 🎮 使用场景示例

### 场景1: 学习策略原理
```bash
# 运行演示程序了解策略逻辑
uv run strategy_demo.py

# 观察输出中的入场信号：
# 🚨 入场信号执行成功!
#    价格: $99,802.00
#    数量: 0.001000 BTC
#    成交量比: 3.72
#    价格变化: +0.16%
```

### 场景2: 测试不同参数
```bash
# 编辑 strategy_config.json
{
  "parameters": {
    "R": 20,    // 更短的成交量周期
    "N": 1.5,   // 更低的成交量要求
    "M": 1.0,   // 更低的价格涨幅要求
    "Q": 5,     // 更保守的资金使用
    "U": 1.5,   // 更频繁的加仓
    "S": 2.0    // 更严格的止损
  }
}

# 运行测试查看效果
uv run strategy_demo.py
```

### 场景3: 准备实盘交易
```bash
# 1. 配置API密钥（测试网）
vim strategy_config.json

# 2. 设置 sandbox: true
# 3. 配置测试网API密钥
# 4. 验证配置
uv run strategy_runner.py --validate

# 5. 运行测试
uv run strategy_runner.py
```

## 🔥 核心特点

### ✨ 优势
- 🤖 **完全自动化**: 基于ccxt.pro的异步框架
- 📊 **实时分析**: WebSocket实时数据流
- 🛡️ **风险控制**: 多层风险保护机制
- 🔄 **灵活配置**: 所有参数可调
- 📈 **顺势交易**: 突破后顺势加仓策略
- 🎯 **移动止盈**: 动态追踪最高价

### ⚠️ 注意事项
- 🧪 **强烈建议**先在测试网测试
- 💰 数字货币交易存在高风险
- 📚 请充分理解策略原理
- 🔒 保护好API密钥安全
- 📊 定期监控策略表现

## 🎨 输出示例

### 正常运行输出
```
🚀 量价突破顺势加仓策略演示
============================================================
🔧 生成模拟K线数据...
✅ 生成了 101 根模拟K线
🎯 开始模拟量价突破策略...
📊 策略参数: R=30, N=2.0倍, M=1.5%, Q=10%, U=2.0%, S=3.0%

⏰ 时间: 13:15:03
💰 价格: $99,325.02 (-0.20%)
📊 成交量: 198 (比: 1.11)

⏰ 时间: 13:16:03
💰 价格: $99,014.19 (-0.21%)
📊 成交量: 212 (比: 1.17)

🚨 入场信号执行成功!
   价格: $99,321.12
   数量: 0.001000
   成交量比: 5.21
   价格变化: +0.31%
   当前持仓数: 1

============================================================
📊 策略状态报告
============================================================
当前价格: $99,482.72
持仓数量: 1

📈 持仓详情:
  持仓 1:
    入场价: $99,321.12
    当前价: $99,482.72
    数量: 0.001000
    最高价: $99,482.72
    止损价: $96,578.24
    盈亏: +$0.16 (+0.16%)

💰 总盈亏: +$0.16 (+0.16%)
💼 总投入: $99.32
============================================================
```

## 🎯 下一步

1. **学习阶段**: 运行 `strategy_demo.py` 理解策略逻辑
2. **测试阶段**: 使用 `test_strategy.py` 验证配置
3. **模拟阶段**: 配置测试网API进行模拟交易
4. **实盘阶段**: 小资金测试后逐步扩大规模

## 🆘 获取帮助

- 📖 详细文档: `STRATEGY_README.md`
- 🧪 测试脚本: `test_strategy.py`
- 💬 配置验证: `strategy_runner.py --validate`
- 📊 状态查询: `strategy_runner.py --status`

---

🎉 **开始你的量化交易之旅吧！**